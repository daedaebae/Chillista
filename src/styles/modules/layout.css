/*
 * Game Layout Module
 *
 * This module defines the core layout structure for the game interface,
 * including the main game container, visual display areas, and specific
 * screen layouts like the map screen.
 */

/*
 * Game Container Section
 *
 * Defines the main wrapper for the entire game, ensuring it takes full
 * viewport dimensions and handles overflow. It uses flexbox for internal
 * layout and isolates its stacking context.
 */
.game-container {
    width: 100%;
    height: 100vh;
    /* Full height of the viewport */
    display: flex;
    flex-direction: column;
    /* Stacks children vertically */
    border: 6px double #5d4037;
    /* Dark Wood Double Border */
    border-radius: 12px;
    margin: 0;
    /* Removes default margin */
    background-color: transparent;
    /* Allows background to show through or be set by children */
    overflow: hidden;
    /* Hides any content that overflows the container */
    position: relative;
    /* Establishes a positioning context for absolutely positioned children */
    isolation: isolate;
    /* Creates a new stacking context, useful for z-index management */
    box-sizing: border-box;
}

/*
 * Work Space Section (formerly visual-area)
 *
 * This area is the "table" or surface where the barista works.
 * It starts as a cheap plastic foldy table.
 */
.work-space {
    flex-grow: 1;
    /* Allows this area to expand and fill available vertical space */
    position: relative;
    /* Establishes a positioning context for absolutely positioned children */

    /* Cheap Plastic Table Styling */
    background-color: #dddddd;
    background-image:
        repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 255, 255, 0.2) 10px, rgba(255, 255, 255, 0.2) 12px),
        radial-gradient(circle at 20% 30%, rgba(0, 0, 0, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.05) 0%, transparent 15%);
    box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.1);

    overflow: hidden;
    /* Hides any content that overflows this area */
    display: flex;
    justify-content: center;
    /* Centers content horizontally */
    align-items: flex-end;
    /* Aligns content to the bottom of the visual area */
    z-index: 2;
    /* Sets stacking order, typically above background but below HUD/characters */
    min-height: 0;
    /* Prevents flex item from growing beyond its content in some cases */
    padding-top: 60px;
    /* Provides space at the top for a Head-Up Display (HUD) */
}

/*
 * Character Area Section
 *
 * This area is specifically for displaying game characters. It's absolutely
 * positioned at the bottom center of its parent and allows pointer events
 * to pass through to elements beneath it.
 */
.character-area {
    position: absolute;
    /* Positions the element relative to its nearest positioned ancestor */
    bottom: 0;
    /* Aligns to the bottom of the parent */
    left: 50%;
    /* Starts at the horizontal center */
    transform: translateX(-50%);
    /* Shifts left by half its width to truly center it */
    display: flex;
    align-items: flex-end;
    /* Aligns character elements to the bottom */
    justify-content: center;
    /* Centers character elements horizontally */
    z-index: 12;
    /* High z-index to ensure characters are on top of most other elements */
    width: 100%;
    /* Takes full width of the parent */
    height: 100%;
    /* Takes full height of the parent, allowing flexible character positioning */
    pointer-events: none;
    /* Allows mouse events to pass through this element to elements below */
}

/*
 * Decorations Area Section
 *
 * This area is for background or foreground decorative elements that
 * should not interfere with user interaction. It covers the entire visual area.
 */
.decorations-area {
    position: absolute;
    /* Positions the element relative to its nearest positioned ancestor */
    top: 0;
    /* Aligns to the top of the parent */
    left: 0;
    /* Aligns to the left of the parent */
    width: 100%;
    /* Takes full width of the parent */
    height: 100%;
    /* Takes full height of the parent */
    pointer-events: none;
    /* Allows mouse events to pass through this element */
    z-index: 6;
    /* Sets stacking order, typically above background but below characters/HUD */
}

/*
 * Map Screen Section
 *
 * Styles specifically for the game's map screen, including its background
 * and grid pattern.
 */
#screen-map {
    background-color: var(--map-background-color, #e6ccb2);
    /* Background color for the map, with a fallback */
    background-image: radial-gradient(var(--map-grid-color, #d2b48c) 2px, transparent 2px);
    /* Creates a radial grid pattern */
    background-size: 30px 30px;
    /* Sets the size of each grid cell */
    align-items: center;
    /* Centers content vertically within the flex container */
    justify-content: center;
    /* Centers content horizontally within the flex container */
    gap: 2rem;
    /* Spacing between flex items */
}

/*
 * Map Header Section
 *
 * Styles for the title or heading displayed on the map screen.
 */
.map-header h2 {
    font-size: 2rem;
    /* Large font size for the header */
    color: var(--text-color);
    /* Text color, using a CSS variable */
    text-transform: uppercase;
    /* Converts text to uppercase */
    letter-spacing: 2px;
    /* Adds spacing between letters */
}

/*
 * Map Grid Section
 *
 * Defines the layout for the interactive grid of map nodes, using CSS Grid.
 */
.map-grid {
    display: grid;
    /* Uses CSS Grid for layout */
    grid-template-columns: repeat(2, 1fr);
    /* Creates two columns of equal width */
    gap: 1.5rem;
    /* Spacing between grid items */
}

/*
 * Map Node Section
 *
 * Styles for individual interactive nodes within the map grid, representing
 * locations or events. Includes hover effects.
 */
.map-node {
    background: #fff;
    /* White background for the node */
    border: 2px solid var(--text-color);
    /* Border with a defined text color */
    border-radius: 12px;
    /* Rounded corners */
    padding: 1.5rem;
    /* Internal spacing */
    display: flex;
    flex-direction: column;
    /* Stacks content vertically within the node */
    align-items: center;
    /* Centers content horizontally within the node */
    gap: 0.5rem;
    /* Spacing between internal elements */
    cursor: pointer;
    /* Changes cursor to a pointer to indicate interactivity */
    transition: all 0.2s;
    /* Smooth transition for hover effects */
    width: 140px;
    /* Fixed width for the node */
}

/*
 * Map Node Hover Effect
 *
 * Defines visual changes when the user hovers over a map node.
 */
.map-node:hover {
    transform: translateY(-5px);
    /* Lifts the node slightly upwards */
    box-shadow: 0 6px 0 rgba(0, 0, 0, 0.1);
    /* Adds a shadow for depth effect */
}

/*
 * Map Node Icon Section
 *
 * Styles for icons displayed within map nodes.
 */
.map-node .icon {
    font-size: 2.5rem;
    /* Large font size for icons */
}

/*
 * Map Node Name Section
 *
 * Styles for the name or title text within map nodes.
 */
.map-node .name {
    font-weight: bold;
    /* Makes the text bold */
    font-size: 1.1rem;
    /* Slightly larger font size for the name */
}